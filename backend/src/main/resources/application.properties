spring.application.name=backend

# Perfil por defecto a dev (H2 en memoria). Para producción ejecutar con: --spring.profiles.active=prod
spring.profiles.default=prod
server.error.include-message=always
server.error.include-binding-errors=always
logging.level.org.springframework.web=INFO
logging.level.org.hibernate=INFO

# Mercado Pago
# Define el token vía variable de entorno. En dev usa TEST-...; en prod APP_USR-...
mercadopago.access-token=${MP_ACCESS_TOKEN}
# Por defecto, apunta a endpoints locales del backend para el retorno del navegador
mercadopago.success-url=${MP_SUCCESS_URL:https://anastacia-contractual-maranda.ngrok-free.dev/retorno/mp/success}
mercadopago.pending-url=${MP_PENDING_URL:https://anastacia-contractual-maranda.ngrok-free.dev/retorno/mp/pending}
mercadopago.failure-url=${MP_FAILURE_URL:https://anastacia-contractual-maranda.ngrok-free.dev/retorno/mp/failure}
# URL del webhook que Mercado Pago llamará cuando haya eventos de pago.
# En entorno con ngrok, exporta MP_WEBHOOK_URL con tu dominio público, por ejemplo:
#   export MP_WEBHOOK_URL=https://<subdominio>.ngrok.io/webhooks/mercadopago
mercadopago.webhook-url=${MP_WEBHOOK_URL:https://anastacia-contractual-maranda.ngrok-free.dev/webhooks/mercadopago}

# URL base del frontend para redirección desde /retorno/mp (cambiar en prod)
frontend.base-url=${FRONTEND_BASE_URL:http://localhost:4200}

# Cloudinary
cloudinary.cloud-name=${CLOUDINARY_CLOUD_NAME}
cloudinary.api-key=${CLOUDINARY_API_KEY}
cloudinary.api-secret=${CLOUDINARY_API_SECRET}
# Carpeta base donde se guardarán imágenes (puede cambiar por perfil/alojamiento)
cloudinary.folder=${CLOUDINARY_FOLDER:hospedaya}
# Si Cloudinary debe forzar URLs https
cloudinary.secure=${CLOUDINARY_SECURE:true}

# Configuración de correo (Gmail)
# Para usar Gmail, debes habilitar "Acceso de apps menos seguras" o usar contraseña de aplicación
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000


# Tamaño máximo de archivos subidos (Spring Multipart)
spring.servlet.multipart.max-file-size=${UPLOAD_MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max-request-size=${UPLOAD_MAX_REQUEST_SIZE:12MB}
# Límite adicional usado por nuestro validador del servicio de imágenes (en bytes)
upload.images.max-size-bytes=${UPLOAD_IMAGES_MAX_SIZE_BYTES:10485760}
