<app-header></app-header>

<main class="container" *ngIf="!cargando">
  <div *ngIf="error" class="error">{{ error }}</div>
  <div *ngIf="mensaje" class="success">{{ mensaje }}</div>
  <section class="card" *ngIf="reserva">
    <div class="header">
      <img [src]="imagen()" alt="Alojamiento" />
      <div class="info">
        <h2>{{ alojamiento?.titulo || 'Alojamiento' }}</h2>
        <p class="direccion">{{ alojamiento?.direccion }}</p>
        <div class="acciones">
          <button class="btn" (click)="irAlojamiento()">Ver alojamiento</button>
          <button class="btn danger" *ngIf="puedeCancelar()" (click)="cancelarReserva()">Cancelar reserva</button>
        </div>
      </div>
    </div>
    <div class="detalle">
      <div class="campo">
        <label>Estado</label>
        <span class="badge">{{ estadoVisual() }}</span>
      </div>
      <div class="campo">
        <label>Check-in</label>
        <span>{{ reserva.fechaInicio }}</span>
      </div>
      <div class="campo">
        <label>Check-out</label>
        <span>{{ reserva.fechaFin }}</span>
      </div>
      <div class="campo">
        <label>Noches</label>
        <span>{{ noches() }}</span>
      </div>
      <div class="campo">
        <label>Precio por noche</label>
        <span>{{ alojamiento?.precioPorNoche | currency:'COP':'symbol-narrow':'1.0-0' }}</span>
      </div>
      <div class="campo total">
        <label>Total</label>
        <span>{{ total() | currency:'COP':'symbol-narrow':'1.0-0' }}</span>
      </div>
    </div>
  </section>
</main>
