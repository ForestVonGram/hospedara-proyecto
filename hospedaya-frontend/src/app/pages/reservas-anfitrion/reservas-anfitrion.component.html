<header class="navbar">
  <div class="logo">
    <span class="icon">ğŸ </span>
    <h1>HospedaYa</h1>
  </div>

  <nav>
    <ul>
      <li><a routerLink="/dashboard-anfitrion">Dashboard AnfitriÃ³n</a></li>
      <li><a routerLink="/alojamientos/gestion">GestiÃ³n de Propiedades</a></li>
      <li><a class="active">Reservas Recibidas</a></li>
    </ul>
  </nav>

  <div class="user-icon">ğŸ‘¤</div>
</header>

<main class="container">
  <h2>Reservas Recibidas</h2>
  <p class="subtitle">Gestiona las reservas de tus propiedades</p>

  <div *ngIf="cargando" class="loading">Cargando reservas...</div>
  <div *ngIf="!cargando && error" class="error">{{ error }}</div>
  <div *ngIf="!cargando && !error && !reservas.length" class="empty">AÃºn no tienes reservas.</div>

  <section class="reserva-card" *ngFor="let r of reservas">
    <div class="reserva-info">
      <h3>{{ r.alojamiento?.titulo || ('Alojamiento #' + r.alojamientoId) }}</h3>
      <p class="fecha">ğŸ“… {{ r.fechaInicio }} â€“ {{ r.fechaFin }}</p>
    </div>
    <div class="estado">
      <span [ngClass]="estadoClase(estadoVisual(r))">{{ estadoVisual(r) }}</span>
      <a class="btn" [routerLink]="['/reservas-anfitrion', r.id]">â„¹ Ver detalles</a>
      <button class="btn confirmar" (click)="confirmar(r)" [disabled]="(r.estado || '').toUpperCase() !== 'PENDIENTE'">âœ” Confirmar</button>
      <button class="btn rechazar" (click)="cancelar(r)" [disabled]="(r.estado || '').toUpperCase() === 'CANCELADA'">âœ– Rechazar</button>
    </div>
  </section>
</main>
